/* ========================================
   FLOW Shared Animation Library
   Unique micro-interactions per section
   ======================================== */

/* ---- SCROLL REVEAL BASE ---- */
.reveal {
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1), transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
}
.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Staggered children */
.stagger-children .reveal { transition-delay: 0s; }
.stagger-children .reveal:nth-child(1) { transition-delay: 0s; }
.stagger-children .reveal:nth-child(2) { transition-delay: 0.1s; }
.stagger-children .reveal:nth-child(3) { transition-delay: 0.15s; }
.stagger-children .reveal:nth-child(4) { transition-delay: 0.2s; }
.stagger-children .reveal:nth-child(5) { transition-delay: 0.25s; }
.stagger-children .reveal:nth-child(6) { transition-delay: 0.3s; }
.stagger-children .reveal:nth-child(7) { transition-delay: 0.35s; }
.stagger-children .reveal:nth-child(8) { transition-delay: 0.4s; }

/* ---- FADE VARIANTS ---- */
.reveal-left {
  opacity: 0;
  transform: translateX(-60px);
  transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1), transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
}
.reveal-right {
  opacity: 0;
  transform: translateX(60px);
  transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1), transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
}
.reveal-scale {
  opacity: 0;
  transform: scale(0.85);
  transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1), transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
}
.reveal-left.visible,
.reveal-right.visible,
.reveal-scale.visible {
  opacity: 1;
  transform: translateX(0) scale(1);
}

/* ---- BLUR REVEAL (headings) ---- */
.blur-reveal {
  opacity: 0;
  filter: blur(20px);
  transform: translateY(20px);
  transition: opacity 1s ease, filter 1s ease, transform 1s ease;
}
.blur-reveal.visible {
  opacity: 1;
  filter: blur(0);
  transform: translateY(0);
}

/* ---- TEXT SPLIT / WAVE ---- */
.wave-text .char {
  display: inline-block;
  opacity: 0;
  transform: translateY(30px) rotateX(40deg);
  transition: opacity 0.5s ease, transform 0.5s ease;
}
.wave-text.visible .char {
  opacity: 1;
  transform: translateY(0) rotateX(0deg);
}

/* ---- 3D TILT CARD ---- */
.tilt-card {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  transform-style: preserve-3d;
  perspective: 1000px;
}
.tilt-card:hover {
  box-shadow: 0 25px 50px rgba(0,0,0,0.15);
}

/* ---- GRADIENT BORDER GLOW ---- */
.glow-border {
  position: relative;
  overflow: hidden;
}
.glow-border::before {
  content: '';
  position: absolute;
  inset: -2px;
  background: conic-gradient(from var(--glow-angle, 0deg), transparent 60%, #000 80%, transparent 100%);
  z-index: -1;
  animation: glowRotate 4s linear infinite;
  opacity: 0;
  transition: opacity 0.4s ease;
}
.glow-border:hover::before {
  opacity: 1;
}
@keyframes glowRotate {
  to { --glow-angle: 360deg; }
}
@property --glow-angle {
  syntax: '<angle>';
  initial-value: 0deg;
  inherits: false;
}

/* ---- COUNTER ANIMATION ---- */
.counter-value {
  font-variant-numeric: tabular-nums;
}

/* ---- MARQUEE / INFINITE SCROLL ---- */
.marquee-track {
  display: flex;
  animation: marqueeScroll 30s linear infinite;
  width: max-content;
}
.marquee-track:hover {
  animation-play-state: paused;
}
@keyframes marqueeScroll {
  to { transform: translateX(-50%); }
}

/* ---- MAGNETIC BUTTON ---- */
.magnetic-btn {
  transition: transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
}

/* ---- PARALLAX ---- */
.parallax-bg {
  will-change: transform;
  transition: transform 0.1s linear;
}

/* ---- DRAW LINE ---- */
.draw-line {
  stroke-dasharray: 1000;
  stroke-dashoffset: 1000;
  transition: stroke-dashoffset 2s cubic-bezier(0.16, 1, 0.3, 1);
}
.draw-line.visible {
  stroke-dashoffset: 0;
}

/* ---- SHIMMER TEXT ---- */
.shimmer-text {
  background: linear-gradient(90deg, #000 0%, #000 40%, #666 50%, #000 60%, #000 100%);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: shimmer 3s ease-in-out infinite;
}
@keyframes shimmer {
  0%, 100% { background-position: -200% center; }
  50% { background-position: 200% center; }
}

/* ---- FLIP CARD ---- */
.flip-card-inner {
  transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  transform-style: preserve-3d;
}
.flip-card:hover .flip-card-inner {
  transform: rotateY(180deg);
}
.flip-card-front, .flip-card-back {
  backface-visibility: hidden;
  position: absolute;
  inset: 0;
}
.flip-card-back {
  transform: rotateY(180deg);
}

/* ---- TYPEWRITER ---- */
.typewriter {
  overflow: hidden;
  border-right: 3px solid #000;
  white-space: nowrap;
  width: 0;
  animation: typeWrite 2s steps(40) forwards, blinkCaret 0.75s step-end infinite;
}
@keyframes typeWrite {
  to { width: 100%; }
}
@keyframes blinkCaret {
  50% { border-color: transparent; }
}

/* ---- ACCORDION EXPAND ---- */
.accordion-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.5s cubic-bezier(0.16, 1, 0.3, 1), padding 0.5s ease;
  padding: 0 24px;
}
.accordion-item.open .accordion-content {
  max-height: 500px;
  padding: 24px;
}
.accordion-icon {
  transition: transform 0.3s ease;
}
.accordion-item.open .accordion-icon {
  transform: rotate(45deg);
}

/* ---- PULSE DOT (live indicators) ---- */
.pulse-dot {
  width: 10px; height: 10px;
  border-radius: 50%;
  background: #22c55e;
  position: relative;
}
.pulse-dot::before {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 50%;
  background: #22c55e;
  opacity: 0;
  animation: pulseRing 2s ease-out infinite;
}
@keyframes pulseRing {
  0% { transform: scale(0.8); opacity: 0.6; }
  100% { transform: scale(2); opacity: 0; }
}

/* ---- HOVER UNDERLINE SLIDE ---- */
.underline-slide {
  position: relative;
  display: inline-block;
}
.underline-slide::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 3px;
  background: #000;
  transition: width 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}
.underline-slide:hover::after {
  width: 100%;
}

/* ---- MORPH SHAPE (section divider) ---- */
.morph-divider {
  animation: morphBlob 8s ease-in-out infinite alternate;
}
@keyframes morphBlob {
  0%   { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
  50%  { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }
  100% { border-radius: 50% 50% 40% 60% / 40% 60% 50% 50%; }
}

/* ---- FLOATING ELEMENTS ---- */
.float-slow {
  animation: floatSlow 6s ease-in-out infinite;
}
.float-medium {
  animation: floatSlow 4s ease-in-out infinite reverse;
}
@keyframes floatSlow {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-15px); }
}

/* ---- ROTATE ON SCROLL ---- */
.rotate-scroll {
  transition: transform 0.1s linear;
  will-change: transform;
}

/* ---- NOISE GRAIN OVERLAY ---- */
.grain-overlay::after {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 1;
}
